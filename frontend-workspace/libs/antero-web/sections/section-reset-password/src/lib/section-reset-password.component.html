<div class="splash" (keydown)="keyDown($event)">
  <div class="content">
    <div>
      <amx-flex [justify]="'center'">
        <img class="logo" src="assets/logoAntC.svg"/>
      </amx-flex>
      <amx-spacer [space]="'var(--space-lg)'"></amx-spacer>
    </div>
    <amx-spacer [space]="'var(--space-xl)'"></amx-spacer>
    <ng-container *ngIf="!resetComplete else afterReset">
      <ng-container *ngTemplateOutlet="notReset"></ng-container>
    </ng-container>
  </div>
</div>

<ng-template #notReset>
  <div [ngStyle]="{ 'background': 'white', padding: 'var(--space-md)', 'border-radius': 'var(--rounded)', width: '500px' }">
    <label [ngStyle]="{ 'text-align': 'var(--text-center)' }"><b>Please create a new password.</b></label>
    <amx-spacer [space]="'var(--space-lg)'"></amx-spacer>
      <div>
        <div>
          <label [ngStyle]="{ 'color': 'var(--fg-color)'}">Login Email</label><br/>
          <amx-spacer [space]="'var(--space-sm)'"></amx-spacer>
          <label><b>{{ params?.email }}</b></label>
        </div>
        <hr/>
        <amx-spacer [space]="'var(--space-lg)'"></amx-spacer>
        <amx-create-password (passwordValidated)="passwordCreatedHandler($event)"></amx-create-password>
      </div>
      <amx-spacer [space]="'var(--space-lg)'"></amx-spacer>
      <amx-flex [justify]="'center'">
        <amx-label-button
          [shouldDisable]="!isReady"
          [label]="'Reset Password'"
          (clicked)="clickHandler()">
        </amx-label-button>
      </amx-flex>
  </div>
</ng-template>

<ng-template #afterReset>
  <amx-flex [flow]="'column nowrap'" [align]="'center'" [gap]="'var(--space-lg)'">
    <h3><b>You have successfully updated your password.</b></h3>
    <amx-label-button [label]="'Login'" (clicked)="goToLogin()"></amx-label-button>
  </amx-flex>
</ng-template>